# 划词生成二维码 Chrome 扩展

一款简单易用的 Chrome 浏览器扩展，支持在任意网页中选择文字并快速生成二维码，方便手机扫码获取内容。

## ✨ 功能特性

- 🖱️ **划词生成** - 在任意网页中选择文字，自动显示生成按钮
- 📱 **一键生成** - 点击按钮即可生成高质量二维码
- 🎯 **侧边栏显示** - 优雅的侧边栏界面，不干扰正常浏览
- 💾 **保存功能** - 支持保存二维码图片到本地
- 📋 **文字复制** - 可直接复制选中的文字内容
- 🗑️ **历史管理** - 支持查看和清空历史记录
- 🖱️ **右键菜单** - 支持通过右键菜单快速生成
- 🔗 **多API支持** - 使用多个免费API确保生成成功率
- 📊 **自定义API** - 支持配置自定义二维码生成API

## 🚀 安装方法

### Chrome Web Store（推荐）
*即将上架...*

### 开发者模式安装
1. 下载或克隆此项目到本地
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹

## 📖 使用方法

### 方法一：划词生成（推荐）
1. 在任意网页中用鼠标选择文字
2. 点击自动出现的 "📱 生成二维码" 按钮
3. 侧边栏滑出显示二维码
4. 可选择复制文字或保存二维码

### 方法二：右键菜单
1. 选中网页文字
2. 右键选择 "生成二维码"
3. 侧边栏显示二维码

### 方法三：扩展弹窗
1. 点击浏览器工具栏中的扩展图标
2. 查看历史生成的二维码
3. 管理历史记录和设置

## 🛠️ 技术特点

- **多API策略** - 集成多个免费二维码API，确保高成功率
- **优雅UI设计** - 响应式设计，支持桌面和移动端
- **性能优化** - 智能缓存，避免重复请求
- **错误处理** - 完善的错误处理和降级方案
- **调试友好** - 详细的控制台日志输出

## 📁 项目结构

```
├── manifest.json          # 扩展配置文件
├── background.js          # 后台服务脚本（Service Worker）
├── content.js            # 内容脚本（页面交互）
├── content.css           # 内容样式（按钮和侧边栏）
├── popup.html            # 扩展弹窗页面
├── popup.js              # 弹窗脚本
├── images/               # 图标资源文件夹
│   ├── logo.png          # 原始 Logo
│   ├── icon16.png        # 16x16 图标
│   ├── icon48.png        # 48x48 图标
│   └── icon128.png       # 128x128 图标
└── README.md             # 项目说明文档
```

## 🔧 开发说明

### 依赖的API服务
- QR Server API
- QuickChart API
- QRBit API
- API Ninjas（使用demo key）

### 本地开发
1. 克隆项目：`git clone <repo-url>`
2. 按照安装方法加载到 Chrome
3. 修改代码后在扩展管理页面点击刷新按钮

### 打包发布
使用以下命令打包扩展：
```bash
npm run dev
```
打包文件将生成到 `dist/qr-code-extension-1.0.0.zip`

### 图标生成
项目提供自动化脚本生成不同尺寸的图标：
```bash
# 从 logo.png 生成所有尺寸的图标
sips -z 16 16 "images/logo.png" --out "images/icon16.png"
sips -z 48 48 "images/logo.png" --out "images/icon48.png"
sips -z 128 128 "images/logo.png" --out "images/icon128.png"
```

## 🐛 故障排除

### 常见问题
1. **按钮不显示** - 刷新页面或重新加载扩展
2. **二维码生成失败** - 检查网络连接，扩展会自动尝试多个API
3. **侧边栏不显示** - 按F12打开开发者工具查看控制台错误

### 调试日志
扩展包含详细的调试信息，按F12打开控制台可查看：
- `Selected text:` - 选中的文字内容
- `QR button shown/hidden` - 按钮显示状态
- `Generating QR for:` - 开始生成二维码
- `QR generated successfully` - 生成成功
- `API failed:` - API调用失败信息

## 📝 更新日志

### v1.0.0 (当前版本)
- ✅ 基础划词生成二维码功能
- ✅ 多API支持确保高成功率
- ✅ 优雅的侧边栏UI设计
- ✅ 右键菜单支持
- ✅ 历史记录管理
- ✅ 图标资源优化整理
- ✅ 完善的错误处理机制

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📮 联系

如有问题或建议，请提交 Issue。